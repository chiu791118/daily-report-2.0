# Daily Market Digest

è‡ªå‹•åŒ–è²¡ç¶“åˆ†æå·¥å…·ï¼Œæ•´åˆå¤šå…ƒè³‡æ–™ä¾†æºèˆ‡ LLMï¼Œç”Ÿæˆæ¯æ—¥/é€±æœ«å¸‚å ´å ±å‘Šä¸¦è‡ªå‹•ä¸Šå‚³è‡³ Notionã€‚

**é€é GitHub Actions è‡ªå‹•æ’ç¨‹åŸ·è¡Œï¼Œç„¡éœ€æœ¬æ©Ÿé–‹æ©Ÿã€‚**

---

## ç›®éŒ„

1. [åŠŸèƒ½æ¦‚è¦½](#åŠŸèƒ½æ¦‚è¦½)
2. [å¿«é€Ÿé–‹å§‹](#å¿«é€Ÿé–‹å§‹)
3. [ç³»çµ±æ¶æ§‹](#ç³»çµ±æ¶æ§‹)
4. [å ±å‘Šé¡å‹](#å ±å‘Šé¡å‹)
5. [è³‡æ–™ä¾†æº](#è³‡æ–™ä¾†æº)
6. [LLM èª¿ç”¨é‚è¼¯](#llm-èª¿ç”¨é‚è¼¯)
7. [æ ¸å¿ƒ Prompts](#æ ¸å¿ƒ-prompts)
8. [è¨­å®šæª”](#è¨­å®šæª”)
9. [Notion æ•´åˆ](#notion-æ•´åˆ)
10. [GitHub Actions æ’ç¨‹](#github-actions-æ’ç¨‹)
11. [æˆæœ¬ä¼°ç®—](#æˆæœ¬ä¼°ç®—)

---

## åŠŸèƒ½æ¦‚è¦½

| å ±å‘Šé¡å‹ | æ™‚é–“ (å°åŒ—) | é »ç‡ | ä¸»è¦å…§å®¹ |
|----------|-------------|------|----------|
| **Pre-market** | 18:00 | é€±ä¸€è‡³é€±äº” | 6-Layer çµæ§‹å ±å‘Šï¼šè®ŠåŒ–è­˜åˆ¥ã€çµæ§‹æ¨æ–·ã€é…ç½®å»ºè­°ã€å€‹è‚¡ä¿¡è™Ÿ |
| **Post-market** | 09:00 | é€±äºŒè‡³é€±å…­ | ç›¤å¾Œè¦†ç›¤ã€é æ¸¬ vs å¯¦éš›ã€æ˜æ—¥å±•æœ› |
| **Saturday** | 09:00 | æ¯é€±å…­ | ç”¢æ¥­èªçŸ¥æ›´æ–°ã€ç¯„å¼ç§»è½‰ã€æŠ€è¡“å‰æ²¿ |
| **Sunday** | 18:00 | æ¯é€±æ—¥ | é€±å›é¡§ã€ä¸‹é€±å±•æœ›ã€ç­–ç•¥å»ºè­° |

---

## å¿«é€Ÿé–‹å§‹

### GitHub Actions è‡ªå‹•åŸ·è¡Œï¼ˆæ¨è–¦ï¼‰

1. Fork æœ¬å°ˆæ¡ˆ
2. è¨­å®š Repository Secretsï¼ˆè¦‹ [GitHub Actions æ’ç¨‹](#github-actions-æ’ç¨‹)ï¼‰
3. å ±å‘Šæœƒè‡ªå‹•æŒ‰æ’ç¨‹ç”Ÿæˆä¸¦ä¸Šå‚³è‡³ Notion

### æ‰‹å‹•è§¸ç™¼

1. å‰å¾€ [Actions](../../actions) â†’ **Daily Market Digest**
2. é»æ“Š **Run workflow** â†’ é¸æ“‡å ±å‘Šé¡å‹ â†’ åŸ·è¡Œ

### æœ¬æ©ŸåŸ·è¡Œ

```bash
# 1. Clone & Setup
git clone https://github.com/chiu791118/daily-market-digest.git
cd daily-market-digest
python3 -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt

# 2. è¨­å®š API Keys
cp .env.example .env
# ç·¨è¼¯ .env å¡«å…¥ API Keys

# 3. åŸ·è¡Œ
python -m src.main pre-market   # é–‹ç›¤å‰å ±å‘Š
python -m src.main post-market  # æ”¶ç›¤å¾Œå ±å‘Š
python -m src.main saturday     # é€±å…­ç”¢æ¥­å ±å‘Š
python -m src.main sunday       # é€±æ—¥å±•æœ›å ±å‘Š
python -m src.main test         # æ¸¬è©¦çµ„ä»¶
```

---

## ç³»çµ±æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            main.py                                   â”‚
â”‚                      (æµç¨‹æ§åˆ¶ & å ±å‘Šç”Ÿæˆ)                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  collectors/  â”‚       â”‚  analyzers/   â”‚       â”‚   outputs/    â”‚
â”‚   è³‡æ–™æ”¶é›†     â”‚  â”€â”€â–¶  â”‚   LLM åˆ†æ    â”‚  â”€â”€â–¶  â”‚   å ±å‘Šè¼¸å‡º    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                       â”‚                       â”‚
        â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ NewsCollectorâ”‚      â”‚ â€¢ NewsAnalyzer â”‚      â”‚ â€¢ Markdown    â”‚
â”‚ â€¢ StockCollectorâ”‚     â”‚ â€¢ StockAnalyzerâ”‚      â”‚ â€¢ Notion API  â”‚
â”‚ â€¢ SECEdgarCollectorâ”‚  â”‚ â€¢ PreMarketAnalyzerâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ â€¢ FDACollector â”‚      â”‚ â€¢ IndustryAnalyzerâ”‚
â”‚ â€¢ ArxivCollectorâ”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ â€¢ ClinicalTrialsCollectorâ”‚
â”‚ â€¢ IntelAggregatorâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç›®éŒ„çµæ§‹

```
daily-market-digest/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.py                      # ä¸»ç¨‹å¼å…¥å£
â”‚   â”œâ”€â”€ collectors/
â”‚   â”‚   â”œâ”€â”€ news.py                  # RSS + NewsAPI
â”‚   â”‚   â”œâ”€â”€ youtube.py               # YouTube Data API
â”‚   â”‚   â”œâ”€â”€ stocks.py                # yfinance è‚¡åƒ¹æ•¸æ“š
â”‚   â”‚   â”œâ”€â”€ sec_edgar.py             # SEC EDGAR (8-K, 10-Q, 10-K)
â”‚   â”‚   â”œâ”€â”€ fda.py                   # FDA è—¥ç‰©æ ¸å‡†/è­¦ç¤º
â”‚   â”‚   â”œâ”€â”€ arxiv.py                 # arXiv AI/ML è«–æ–‡
â”‚   â”‚   â”œâ”€â”€ clinical_trials.py       # ClinicalTrials.gov
â”‚   â”‚   â”œâ”€â”€ base.py                  # IntelItem çµ±ä¸€è³‡æ–™çµæ§‹
â”‚   â”‚   â”œâ”€â”€ entity_matcher.py        # å…¬å¸/äººç‰©è­˜åˆ¥
â”‚   â”‚   â””â”€â”€ intel_aggregator.py      # è³‡æ–™èšåˆå™¨
â”‚   â”œâ”€â”€ analyzers/
â”‚   â”‚   â”œâ”€â”€ news_analyzer.py         # æ–°èæ‘˜è¦ (LLM)
â”‚   â”‚   â”œâ”€â”€ stock_analyzer.py        # å¸‚å ´åˆ†æ (LLM)
â”‚   â”‚   â”œâ”€â”€ pre_market_analyzer.py   # 6-Layer ç›¤å‰å ±å‘Š (3-stage LLM)
â”‚   â”‚   â””â”€â”€ industry_analyzer.py     # ç”¢æ¥­èªçŸ¥åˆ†æ (6-step LLM pipeline)
â”‚   â”œâ”€â”€ prompts/
â”‚   â”‚   â””â”€â”€ pre_market/
â”‚   â”‚       â”œâ”€â”€ hidden_layer.py      # Hidden Layer prompt
â”‚   â”‚       â””â”€â”€ layers.py            # Layer 0-5 prompts
â”‚   â”œâ”€â”€ outputs/
â”‚   â”‚   â”œâ”€â”€ markdown.py              # Markdown å ±å‘Šç”Ÿæˆ
â”‚   â”‚   â””â”€â”€ notion.py                # Notion ä¸Šå‚³æ¨¡çµ„
â”‚   â””â”€â”€ config/
â”‚       â”œâ”€â”€ settings.py              # å…¨åŸŸè¨­å®š
â”‚       â”œâ”€â”€ stocks.yaml              # è‚¡ç¥¨è§€å¯Ÿæ¸…å–®
â”‚       â”œâ”€â”€ channels.yaml            # YouTube é »é“æ¸…å–®
â”‚       â””â”€â”€ entities.yaml            # è¿½è¹¤å¯¦é«”ï¼ˆå…¬å¸/äººç‰©/æ©Ÿæ§‹ï¼‰
â”œâ”€â”€ .github/workflows/
â”‚   â””â”€â”€ schedule.yml                 # GitHub Actions æ’ç¨‹
â”œâ”€â”€ reports/                         # å ±å‘Šè¼¸å‡º (æŒ‰æ—¥æœŸ)
â”œâ”€â”€ .env                             # API Keys
â””â”€â”€ requirements.txt
```

---

## å ±å‘Šé¡å‹

### 1. Pre-marketï¼ˆé–‹ç›¤å‰å ±å‘Šï¼‰- 6-Layer çµæ§‹

**æ™‚é–“**ï¼šå°ç£ 18:00ï¼ˆç¾è‚¡é–‹ç›¤å‰ï¼‰

**å ±å‘Šæ—¥æœŸ**ï¼šç•¶å¤©ï¼ˆç¾è‚¡å³å°‡é–‹ç›¤çš„æ—¥æœŸï¼‰

**åŸ·è¡Œæµç¨‹**ï¼ˆ3-stage LLM èª¿ç”¨ï¼‰ï¼š
```
1. NotionPublisher.get_yesterday_pre_market() â†’ è®€å–å‰ä¸€äº¤æ˜“æ—¥å ±å‘Š
2. NewsCollector.collect_all()                â†’ æ”¶é›†æ–°è (RSS/API)
3. SECEdgarCollector.collect_recent()         â†’ æ”¶é›† SEC 8-K å…¬å‘Š
4. FDACollector.collect_all()                 â†’ æ”¶é›† FDA æ›´æ–°
5. StockCollector.get_market_overview()       â†’ å¸‚å ´æ•¸æ“š
6. StockCollector.collect_watchlist()         â†’ è§€å¯Ÿåå–®

7. PreMarketAnalyzer.generate_layered_report() â†’ 3-stage LLM:
   â”œâ”€ Stage 1: Hidden Layer + Layer 0-1 (~4000 tokens)
   â”œâ”€ Stage 2: Layer 2-3 (~2000 tokens)
   â””â”€ Stage 3: Layer 4-5 + News Summary (~3000 tokens)

8. MarkdownReportGenerator.generate_pre_market_report_v2()
9. NotionPublisher.create_daily_page()
```

**6-Layer å ±å‘Šçµæ§‹**ï¼š
```
Hidden Processing Layerï¼ˆå…§éƒ¨è™•ç†ï¼Œä¸è¼¸å‡ºï¼‰
    â†“ å°æ¯”æ˜¨æ—¥å ±å‘Šï¼Œè­˜åˆ¥è®ŠåŒ–
Layer 0: Executive Snapshotï¼ˆ5 å›ºå®šå€å¡Šï¼‰
    â”œâ”€ å¸‚å ´æƒ…ç·’ ğŸŸ¢/ğŸŸ¡/ğŸ”´
    â”œâ”€ å®è§€ç„¦é»
    â”œâ”€ ç§‘æŠ€/AI å‹•æ…‹
    â”œâ”€ è¡Œæ¥­äº®é»
    â””â”€ é¢¨éšªæé†’
Layer 1: What Changed Todayï¼ˆè®ŠåŒ–è­˜åˆ¥ï¼‰
    â”œâ”€ ğŸŒ å®è§€/æ”¿ç­–å±¤é¢
    â”œâ”€ ğŸ­ è¡Œæ¥­/æ¿å¡Šå±¤é¢
    â””â”€ ğŸ¢ å…¬å¸å±¤é¢
Layer 2: Structural Interpretationï¼ˆæœ€å¤š 3 æ¢æ¨æ–· + Quality Gateï¼‰
Layer 3: Asset Allocation Watchlistï¼ˆğŸŸ¢ğŸŸ¡ğŸ”´ é…ç½®ç‹€æ…‹ç‡ˆï¼‰
Layer 4: Equity Signals
    â”œâ”€ 4A: è§€å¯Ÿåå–®è§¸ç™¼
    â””â”€ 4B: æ–°èé©…å‹•ç™¼ç¾
Layer 5: Decision Logï¼ˆ3 è¡Œåˆ¤æ–·è¨˜éŒ„ï¼‰
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ“Š å¸‚å ´æ•¸æ“šé™„éŒ„
ğŸ“° ä»Šæ—¥æ–°èæ‘˜è¦ï¼ˆæ®µè½å¼ï¼Œ300-500å­—ï¼‰
```

**è®ŠåŒ–é¡å‹æ¨™ç±¤**ï¼š
- ğŸ”„ å»¶çºŒï¼šæ˜¨æ—¥ä¸»é¡Œä»Šæ—¥æŒçºŒ
- âš¡ åè½‰ï¼šé æœŸèˆ‡çµæœç›¸å
- ğŸ†• æ–°ç™¼ç¾ï¼šä»Šæ—¥æ–°å‡ºç¾çš„é‡è¦è³‡è¨Š

**æ˜¨æ—¥å ±å‘Š Fallback é‚è¼¯**ï¼š
```
1. å˜—è©¦è®€å–å‰ä¸€äº¤æ˜“æ—¥ï¼ˆè·³éé€±æœ«ï¼‰
2. è‹¥å¤±æ•—ï¼Œå˜—è©¦å‰ 2-3 å€‹äº¤æ˜“æ—¥
3. è‹¥ä»å¤±æ•—ï¼ŒLayer 0 é¡¯ç¤ºè­¦å‘Šï¼Œæ‰€æœ‰è®ŠåŒ–æ¨™è¨˜ç‚ºã€Œæ–°ç™¼ç¾ã€
```

### 2. Post-marketï¼ˆæ”¶ç›¤å¾Œå ±å‘Šï¼‰

**æ™‚é–“**ï¼šå°ç£ 09:00ï¼ˆç¾è‚¡æ”¶ç›¤å¾Œï¼‰

**å ±å‘Šæ—¥æœŸ**ï¼šå‰ä¸€äº¤æ˜“æ—¥ï¼ˆç¾è‚¡å·²æ”¶ç›¤çš„æ—¥æœŸï¼‰

**åŸ·è¡Œæµç¨‹**ï¼š
```
1. è¨ˆç®—å‰ä¸€äº¤æ˜“æ—¥ï¼ˆè·³éé€±æœ«ï¼‰
2. è®€å–è©²æ—¥ Pre-market å ±å‘Š (Notion)
3. NewsCollector.collect_all()
4. SECEdgarCollector + FDACollector
5. StockAnalyzer.analyze_post_market_review() â†’ LLM: é æ¸¬ vs å¯¦éš›æ¯”è¼ƒ
6. StockAnalyzer.generate_watchlist_fundamental_summary()
7. StockAnalyzer.generate_tomorrow_outlook()
8. ç”Ÿæˆå ±å‘Š & ä¸Šå‚³ Notion
```

**å ±å‘Šçµæ§‹**ï¼š
```markdown
# æ¯æ—¥å¸‚å ´æ‘˜è¦ - æ”¶ç›¤å¾Œå ±å‘Š

## ğŸ“Š ä»Šæ—¥äº¤æ˜“å›é¡§
- é æ¸¬ vs å¯¦éš›å°æ¯”
- é©…å‹•å› ç´ åˆ†æ

## ğŸ“ˆ è§€å¯Ÿæ¸…å–®è¡¨ç¾
## ğŸ“° ç›¤å¾Œé‡è¦æ¶ˆæ¯
## ğŸ“‹ ç›£ç®¡èˆ‡å…¬å‘Šå‹•æ…‹
## ğŸ”® æ˜æ—¥å±•æœ›
```

### 3. Saturdayï¼ˆé€±å…­ç”¢æ¥­èªçŸ¥å ±å‘Šï¼‰

**æ™‚é–“**ï¼šå°ç£é€±å…­ 09:00

**åŸ·è¡Œæµç¨‹**ï¼ˆ6-step AI Pipelineï¼‰ï¼š
```
1. IntelAggregator.collect_all()    â†’ æ”¶é›† 7 å¤©æ•¸æ“š
   - News, SEC, arXiv, ClinicalTrials, FDA

2. IndustryAnalyzer.analyze() â†’ 6-step Pipeline:
   - Step 2: è³‡æ–™åˆ†é¡èˆ‡é«˜ä¿¡è™Ÿè­˜åˆ¥
   - Step 3: ç¯„å¼ç§»è½‰åˆ†æï¼ˆç¬¬ä¸€æ€§åŸå‰‡ï¼‰
   - Step 4: æŠ€è¡“å‰æ²¿åˆ†æï¼ˆå·¥ä½œæ‹†è§£ï¼‰
   - Step 5: å…¬å¸å‹•æ…‹åˆ†æï¼ˆç´„æŸè­˜åˆ¥ï¼‰
   - Step 6: æœ€çµ‚å ±å‘Šç”Ÿæˆ

3. ç”Ÿæˆå ±å‘Š & ä¸Šå‚³ Notion
```

**å ±å‘Šçµæ§‹**ï¼š
```markdown
# æ¯é€±ç”¢æ¥­èªçŸ¥æ›´æ–°å ±å‘Š

## 0. This Week's Thesis
## 1. Executive Brief
## 2. Paradigm Shift Radar
## 3. Industry Cognition Map Updates
## 4. Technology Frontier
## 5. Company Moves & Strategic Implications
## 6. IP / Regulation / Talent Signals
## 7. Key Metrics & Benchmarks
## 8. Watchlist & Scenarios
```

### 4. Sundayï¼ˆé€±æ—¥å±•æœ›å ±å‘Šï¼‰

**æ™‚é–“**ï¼šå°ç£é€±æ—¥ 18:00

**åŸ·è¡Œæµç¨‹**ï¼š
```
1. IntelAggregator.collect_all()    â†’ æ”¶é›† 7 å¤©æ•¸æ“š
2. StockAnalyzer.analyze_weekly_outlook()
3. ç”Ÿæˆå ±å‘Š & ä¸Šå‚³ Notion
```

**å ±å‘Šçµæ§‹**ï¼š
```markdown
# é€±æœ«å±•æœ›å ±å‘Š - ä¸‹é€±å¸‚å ´å±•æœ›

## ğŸ“… æœ¬é€±å¸‚å ´ç¸½çµ
- æŒ‡æ•¸è¡¨ç¾
- æœ¬é€±é‡è¦å…¬å‘Š/ç ”ç©¶çµ±è¨ˆ

## ğŸ”­ ä¸‹é€±å±•æœ›èˆ‡ç­–ç•¥
- ç¶“æ¿Ÿæ•¸æ“šæ—¥æ›†
- è²¡å ±ç™¼å¸ƒ
- Fed å‹•æ…‹

## ğŸ“Š è§€å¯Ÿæ¸…å–®ç‹€æ…‹
```

---

## è³‡æ–™ä¾†æº

### æ–°èä¾†æº

| ä¾†æº | é¡å‹ | èªªæ˜ |
|------|------|------|
| Bloomberg | RSS | å¸‚å ´ã€ç§‘æŠ€æ–°è |
| CNBC | RSS | æŠ•è³‡ã€ç§‘æŠ€æ–°è |
| Seeking Alpha | RSS | å¸‚å ´åˆ†æ |
| Financial Times | RSS | è²¡ç¶“æ–°è |
| Reuters | RSS | å•†æ¥­æ–°è |
| Wall Street Journal | RSS | å¸‚å ´æ–°è |
| TechCrunch | RSS | ç§‘æŠ€æ–°è |
| Hacker News | RSS | ç§‘æŠ€è¶¨å‹¢ |
| NewsAPI | API | ç¶œåˆæ–°è |

### ç›£ç®¡/ç ”ç©¶ä¾†æº

| ä¾†æº | é¡å‹ | å…§å®¹ |
|------|------|------|
| SEC EDGAR | RSS/API | 8-K, 10-Q, 10-K å…¬å‘Š |
| FDA | RSS/API | è—¥ç‰©æ ¸å‡†ã€å®‰å…¨è­¦ç¤º |
| arXiv | API | AI/ML ç ”ç©¶è«–æ–‡ |
| ClinicalTrials.gov | API | è‡¨åºŠè©¦é©—æ›´æ–° |

### å¸‚å ´æ•¸æ“š

| ä¾†æº | é¡å‹ | å…§å®¹ |
|------|------|------|
| yfinance | API | è‚¡åƒ¹ã€æŒ‡æ•¸ã€æŠ€è¡“æŒ‡æ¨™ |
| YouTube | API | è²¡ç¶“å½±ç‰‡ã€å­—å¹• |

---

## LLM èª¿ç”¨é‚è¼¯

### SDK åˆå§‹åŒ–

```python
from google import genai
from google.genai import types

client = genai.Client(api_key=GEMINI_API_KEY)
```

### èª¿ç”¨æ–¹å¼

```python
response = client.models.generate_content(
    model="gemini-2.0-flash",
    contents=prompt,
    config=types.GenerateContentConfig(
        temperature=0.3,         # ä½æº«åº¦ç¢ºä¿ä¸€è‡´æ€§
        max_output_tokens=16384,
    ),
)
result = response.text
```

### LLM èª¿ç”¨é»ç¸½è¦½

| æ¨¡çµ„ | å‡½æ•¸ | ç”¨é€” | å ±å‘Šé¡å‹ |
|------|------|------|----------|
| `pre_market_analyzer.py` | `process_hidden_layer()` | Hidden Layer è®ŠåŒ–è­˜åˆ¥ | Pre |
| `pre_market_analyzer.py` | `_generate_layer_0_1()` | Executive Snapshot + What Changed | Pre |
| `pre_market_analyzer.py` | `_generate_layer_2_3()` | Structural Interpretation + Allocation | Pre |
| `pre_market_analyzer.py` | `_generate_layer_4_5()` | Equity Signals + Decision Log | Pre |
| `pre_market_analyzer.py` | `generate_news_summary()` | æ®µè½å¼æ–°èæ‘˜è¦ | Pre |
| `stock_analyzer.py` | `extract_hashtags()` | ä¸»é¡Œæ¨™ç±¤ | Pre |
| `stock_analyzer.py` | `analyze_post_market_review()` | æ”¶ç›¤è¦†ç›¤ | Post |
| `stock_analyzer.py` | `generate_watchlist_fundamental_summary()` | è§€å¯Ÿæ¸…å–® | Post/Sun |
| `stock_analyzer.py` | `generate_tomorrow_outlook()` | æ˜æ—¥å±•æœ› | Post |
| `stock_analyzer.py` | `analyze_weekly_outlook()` | é€±å±•æœ› | Sun |
| `industry_analyzer.py` | `_step2_classify_data()` | è³‡æ–™åˆ†é¡ | Sat |
| `industry_analyzer.py` | `_step3_paradigm_shifts()` | ç¯„å¼ç§»è½‰ | Sat |
| `industry_analyzer.py` | `_step4_technology_analysis()` | æŠ€è¡“åˆ†æ | Sat |
| `industry_analyzer.py` | `_step5_company_analysis()` | å…¬å¸åˆ†æ | Sat |
| `industry_analyzer.py` | `_step6_final_report()` | æœ€çµ‚å ±å‘Š | Sat |

---

## æ ¸å¿ƒ Prompts

### 1. å…¨çƒå¿«è¦½ (`stock_analyzer.py`)

```
ä½ æ˜¯ä¸€ä½å…¨çƒè²¡ç¶“æ—©å ±ç·¨è¼¯ï¼Œé¢¨æ ¼ç°¡æ½”æœ‰åŠ›ã€‚

## éš”å¤œå¸‚å ´æ•¸æ“š
{market_data}

## ä»Šæ—¥ä¸»è¦æ–°èæ¨™é¡Œ
{news_context}

---

è«‹ç”Ÿæˆã€Œéš”å¤œæ ¸å¿ƒè¡Œæƒ…ã€å¿«è¦½ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š

### éš”å¤œæ ¸å¿ƒè¡Œæƒ…

å°æ¯å€‹æŒ‡æ•¸/è³‡ç”¢ï¼Œç”¨ä¸€è¡Œå‘ˆç¾ï¼š
â— [è³‡ç”¢åç¨±]: [åƒ¹æ ¼] [æ¼²è·Œå¹…] ([ä¸€å¥è©±å¸‚å ´è§£è®€])

è¦æ±‚ï¼š
1. æ‹¬è™Ÿå…§çš„è§£è®€è¦ç²¾æº–é»å‡ºæ¼²è·ŒåŸå› ï¼ˆå¦‚ã€Œç§‘æŠ€è‚¡æ‹‹å”®ã€ã€ŒFedé´¿æ´¾é æœŸã€ã€Œé¿éšªéœ€æ±‚ã€ï¼‰
2. åªç”¨ 4-6 å€‹ bullet points
3. èªè¨€ç°¡æ½”ï¼Œä¸è¦å»¢è©±

### ä»Šæ—¥é—œéµä¸»é¡Œ

ç”¨ä¸‰è¡Œç¸½çµä»Šæ—¥æœ€é‡è¦çš„ä¸‰å€‹ä¸»é¡Œï¼š
ğŸ›ï¸ **å®è§€**: [ä¸€å¥è©±ï¼Œ10-15å­—]
âš¡ **ç§‘æŠ€**: [ä¸€å¥è©±ï¼Œ10-15å­—]
ğŸ¢ **ç”¢æ¥­**: [ä¸€å¥è©±ï¼Œ10-15å­—]
```

### 2. æ–°èåˆ†é¡ (`stock_analyzer.py`)

```
ä½ æ˜¯ä¸€ä½å…¨çƒè²¡ç¶“æ—©å ±ç·¨è¼¯ã€‚è«‹å°‡ä»¥ä¸‹æ–°èåˆ†é¡ä¸¦é‡æ–°æ•´ç†ã€‚

## åˆ†é¡æ¨™æº–

**å®è§€èˆ‡æ”¿ç­– (Macro & Policy)**ï¼š
- å¤®è¡Œæ”¿ç­–ã€æ”¿åºœè²¡æ”¿ã€åœ‹éš›è²¿æ˜“ã€åœ°ç·£æ”¿æ²»

**ç§‘æŠ€èˆ‡åœ°ç·£ (Tech & Geopolitics)**ï¼š
- AI/ç§‘æŠ€å…¬å¸ã€æ™¶ç‰‡/åŠå°é«”ã€ç§‘æŠ€ç›£ç®¡ã€ä¸­ç¾ç«¶çˆ­

**å·¨é ­èˆ‡ç”¢æ¥­ (Market Movers)**ï¼š
- å…¬å¸è²¡å ±ã€ä½µè³¼ã€å•†å“åƒ¹æ ¼ã€ç”¢æ¥­è¶¨å‹¢

---

## è¼¸å‡ºæ ¼å¼

å°æ¯æ¢æ–°èï¼š
â—† **[ç°¡çŸ­æ¨™é¡Œï¼Œ8-12å­—]**
[2-3å¥èªªæ˜ï¼ŒåŒ…å«å¸‚å ´å½±éŸ¿]

è¦æ±‚ï¼š
1. æ¯é¡æœ€å¤š 4 æ¢
2. èªªæ˜è¦åŒ…å«ã€Œæ‰€ä»¥å‘¢ï¼Ÿã€ï¼ˆå¸‚å ´å½±éŸ¿ï¼‰
```

### 3. æ–°èæ·±åº¦åˆ†æ (`news_analyzer.py`)

```
ä½ æ˜¯ç§äººè²¡ç¶“ç ”ç©¶åŠ©ç†ï¼Œé‡å°ä»¥ä¸‹æ–°èæä¾›ç›´æ¥ã€å¯æ“ä½œçš„æ·±åº¦åˆ†æã€‚

## åˆ†ææ¡†æ¶

### ä¸€ã€å¸‚å ´æƒ…ç·’åˆ¤æ–·
- çœ‹æ¼²/çœ‹è·Œ/éœ‡ç›ªï¼Œæ“ä½œæ–¹å‘

### äºŒã€é‡å¤§äº‹ä»¶æ·±åº¦åˆ†æï¼ˆè‡³å°‘ 5 å‰‡ï¼‰
å¿…é ˆæ¶µè“‹ï¼šç¸½é«”ç¶“æ¿Ÿ + åœ‹éš›æ”¿æ²»/åœ°ç·£æ”¿æ²»

æ¯å‰‡åŒ…å«ï¼š
- äº‹ä»¶æè¿°
- èƒŒæ™¯è„ˆçµ¡ï¼ˆç‚ºä»€éº¼ç™¼ç”Ÿï¼‰
- æ·±åº¦å½±éŸ¿åˆ†æï¼ˆ250+ å­—ï¼‰
  - ç›´æ¥å½±éŸ¿ã€ç”¢æ¥­éˆå‚³å°ã€çŸ­æœŸ/ä¸­æœŸå½±éŸ¿ã€äºŒéšæ•ˆæ‡‰
- å¯¦æ“å»ºè­°
  - æ¨™çš„ã€æ“ä½œæ–¹å‘ã€é€²å ´åƒ¹ä½ã€åœæ/åœåˆ©

### ä¸‰ã€ç”¢æ¥­å‹•æ…‹æ·±åº¦åˆ†æ
ç§‘æŠ€æ¥­ / é‡‘èæ¥­ / é†«ç™‚å¥åº· / èƒ½æº / æ¶ˆè²»é›¶å”®

### å››ã€ä»Šæ—¥æ“ä½œå»ºè­°ç¸½çµ
| æ¨™çš„ | ä¾†æºäº‹ä»¶/ç”¢æ¥­ | ç†ç”± | å»ºè­°åƒ¹ä½ | åœæ |
```

### 4. å¸‚å ´æ¦‚æ³åˆ†æ (`stock_analyzer.py`)

```
ä½ æ˜¯é ‚å°–æŠ•è³‡é¡§å•ï¼Œå…·å‚™ç¸½é«”ç¶“æ¿Ÿã€ç”¢æ¥­åˆ†æã€å€‹è‚¡ç ”ç©¶çš„å°ˆæ¥­çŸ¥è­˜ã€‚

ã€æœ€é‡è¦åŸå‰‡ã€‘
æ‰€æœ‰åˆ†æå¿…é ˆ 100% åŸºæ–¼ã€Œä»Šæ—¥æ–°èã€é€²è¡Œæ¨å°ã€‚
ç¦æ­¢ä½¿ç”¨ã€Œå‡è¨­ã€ã€ã€Œå¯èƒ½ã€ç­‰ç©ºæ³›æªè¾­ã€‚
æ¯å€‹è§€é»éƒ½å¿…é ˆèƒ½è¿½æº¯åˆ°å…·é«”çš„æ–°èäº‹ä»¶ã€‚

## åˆ†ææ¡†æ¶

### 1. ä»Šæ—¥å¸‚å ´è§£è®€ï¼ˆåŸºæ–¼æ–°èï¼‰
### 2. ç¸½ç¶“èˆ‡æ”¿ç­–ç’°å¢ƒ
### 3. å¸‚å ´æƒ…ç·’èˆ‡é¢¨éšªè©•ä¼°
### 4. è³‡é‡‘æµå‘èˆ‡é…ç½®å»ºè­°
### 5. æ“ä½œå»ºè­°ï¼ˆå…·é«”æ¨™çš„ã€åƒ¹ä½ã€åœæï¼‰
### 6. æœ¬é€±é—œæ³¨ç„¦é»ï¼ˆåƒ…é€±ä¸€ï¼‰
```

### 5. æ”¶ç›¤å¾Œè¦†ç›¤ (`stock_analyzer.py`)

```
ä½ æ˜¯å°ˆæ¥­æŠ•è³‡é¡§å•ï¼Œæ­£åœ¨é€²è¡Œæ¯æ—¥æ”¶ç›¤å¾Œè¦†ç›¤ã€‚

## ä»Šæ—¥ç›¤å‰å ±å‘Šå…§å®¹ï¼ˆé æ¸¬ï¼‰
{ç›¤å‰å ±å‘Šå…§å®¹}

## ä»Šæ—¥å¯¦éš›æ”¶ç›¤æ•¸æ“š
{å¸‚å ´æ•¸æ“š + æ–°èäº‹ä»¶}

## è¦†ç›¤åˆ†ææ¡†æ¶

### 1. ä»Šæ—¥å¸‚å ´å¯¦éš›è¡¨ç¾
- é æœŸ vs ç¾å¯¦å°æ¯”
- å¯¦éš›é©…å‹•å› ç´ 

### 2. é—œéµè§€å¯Ÿèˆ‡å­¸ç¿’
- é æ¸¬æº–ç¢ºåº¦è©•ä¼°
- éœ€è¦æ”¹é€²çš„åœ°æ–¹

### 3. å°å¾ŒçºŒçš„å½±éŸ¿
- å°æ˜æ—¥çš„æš—ç¤º
- éœ€è¦èª¿æ•´çš„ç­–ç•¥
```

### 6. ç”¢æ¥­åˆ†æ - Step 2 è³‡æ–™åˆ†é¡ (`industry_analyzer.py`)

```
ä½ æ˜¯ä¸€ä½ä¸–ç•Œç´šå…¨ç”¢æ¥­ã€å•†æ¥­èˆ‡ç§‘æŠ€ç ”ç©¶åˆå¤¥äººã€‚

**ã€æœ¬æ­¥é©Ÿé™åˆ¶ã€‘**
- ä¸å…è¨±é€²è¡Œä»»ä½•ç¬¬ä¸€æ€§åŸå‰‡ã€å®è§€è§£é‡‹æˆ–é«˜éšæ¨è«–
- ä¸å…è¨±ä½¿ç”¨ã€Œæœ¬è³ªä¸Šã€ã€Œå¾æ ¹æœ¬ä¸Šã€ç­‰æŠ½è±¡èªè¨€
- ä»»å‹™åƒ…é™æ–¼è¨Šè™Ÿåˆ†é¡èˆ‡é‡è¦æ€§ç¯©é¸

## 1. å°‡è³‡æ–™åˆ†é¡ç‚ºï¼š
a) ç›´æ¥äº‹å¯¦ï¼ˆobservable factsï¼‰
b) è¡Œç‚ºè¨Šè™Ÿï¼ˆactions / decisionsï¼‰
c) ç´„æŸæˆ–æ¿€å‹µçš„ç·šç´¢ï¼ˆconstraints / incentivesï¼‰
d) å™ªéŸ³æˆ–é‡è¤‡è³‡è¨Š

## 2. æŒ‡å‡ºå“ªäº›è³‡è¨Šï¼š
- æœƒæ”¹è®Šè¡Œæ¥­ã€ŒèªçŸ¥åœ°åœ–ã€
- åªæ˜¯ç¢ºèªæ—¢æœ‰è¶¨å‹¢
- ç›®å‰ç„¡æ³•åˆ¤æ–·åƒ¹å€¼

## 3. åˆ—å‡ºæœ¬é€±æœ€é‡è¦çš„ 5-8 å€‹ã€Œé«˜ä¿¡è™Ÿäº‹ä»¶ã€
```

### 7. ç”¢æ¥­åˆ†æ - Step 3 ç¯„å¼ç§»è½‰ (`industry_analyzer.py`)

```
**ã€ç¯„å¼ç§»è½‰åˆ¤æ–·çš„å¿…è¦æ¢ä»¶ã€‘**

åœ¨åˆ¤æ–·ä»»ä½•ã€Œç¯„å¼ç§»è½‰ã€æ™‚ï¼Œä½ å¿…é ˆå…ˆå›ç­”ä»¥ä¸‹ç¬¬ä¸€æ€§åŸå‰‡å•é¡Œï¼Œ
å¦å‰‡ä¸å¾—å®£ç¨±ç‚ºç¯„å¼ç§»è½‰ï¼š

1. è©²è¡Œæ¥­ä¸­ï¼Œå“ªä¸€å€‹ã€Œä¸å¯å£“ç¸®çš„åŸºæœ¬ç´„æŸã€æ­£åœ¨æ”¹è®Šï¼Ÿ
   ï¼ˆä¾‹å¦‚ï¼šç‰©ç†é™åˆ¶ã€ç¶“æ¿Ÿä¸‹é™ã€æ™‚é–“ã€é¢¨éšªã€åˆè¦ã€èªçŸ¥æˆæœ¬ï¼‰

2. è©²ç´„æŸéå»ç‚ºä½•ä¸å¯çªç ´ï¼Ÿç¾åœ¨æ˜¯ä»€éº¼æ”¹è®Šè®“å®ƒé¬†å‹•ï¼Ÿ

3. è‹¥å¿½ç•¥ç•¶å‰ç”¢å“ã€å…¬å¸èˆ‡æ•˜äº‹ï¼Œ
   å¾ç¬¬ä¸€æ€§åŸå‰‡é‡æ–°æ¨å°ï¼Œè¡Œæ¥­çµæ§‹æ˜¯å¦å¿…ç„¶æ”¹å¯«ï¼Ÿ

è«‹æ˜ç¢ºæ¨™è¨»ï¼šã€First-principles lensã€‘ä¸¦ç”¨ä¸è¶…é 3 å¥è©±å®Œæˆã€‚

---

## 1. æ˜¯å¦å­˜åœ¨ä»¥ä¸‹é¡å‹çš„è®ŠåŒ–ï¼š
- æˆæœ¬æ›²ç·šæ”¹è®Š
- æ€§èƒ½/æ•ˆç‡æ›²ç·šèºé·
- ä¾›çµ¦æˆ–é…é¡ç´„æŸæ”¹è®Š
- åˆè¦/æ³•å¾‹é‚Šç•Œç§»å‹•
- çµ„ç¹”æˆ–å¹³å°æ²»ç†æ–¹å¼è½‰è®Š

## 2. å°‡è®ŠåŒ–è¡¨è¿°ç‚ºã€Œå¾ A â†’ Bã€çš„ç¯„å¼ç§»è½‰å¥å‹

## 3. å°æ¯å€‹ç¯„å¼ç§»è½‰èªªæ˜ï¼š
- é©…å‹•æ©Ÿåˆ¶
- é‡æ–°å®šåƒ¹ï¼ˆèª°å—ç›Š/å—æï¼‰
- æ™‚é–“å°ºåº¦
- ä¿¡å¿ƒç¨‹åº¦
```

### 8. ç”¢æ¥­åˆ†æ - Step 4 æŠ€è¡“åˆ†æ (`industry_analyzer.py`)

```
**ã€æœ¬æ­¥é©Ÿçš„ç¬¬ä¸€æ€§åŸå‰‡è¦æ±‚ã€‘**

åœ¨åˆ†æä»»ä½•æŠ€è¡“å½±éŸ¿æ™‚ï¼Œä½ å¿…é ˆå…ˆåšã€Œç¬¬ä¸€æ€§åŸå‰‡ä¸‹çš„å·¥ä½œæ‹†è§£ã€ï¼š

- è©²å·¥ä½œçš„ä¸å¯å†åˆ†å–®ä½ï¼ˆirreducible unitï¼‰æ˜¯ä»€éº¼ï¼Ÿ
- äººé¡éå»ç‚ºä½•å¿…é ˆè¦ªè‡ªå®Œæˆé€™ä¸€å–®ä½ï¼Ÿ
- æŠ€è¡“ç¾åœ¨æ˜¯æ›¿ä»£ã€åŠ é€Ÿï¼Œé‚„æ˜¯é‡æ§‹é€™ä¸€å–®ä½ï¼Ÿ

**ç¦æ­¢ï¼š**
- å¾åŠŸèƒ½æ¸…å–®æˆ–å·¥å…·ç‰¹æ€§å‡ºç™¼
- ä½¿ç”¨ã€Œæ•ˆç‡æå‡ã€ã€Œæ›´è°æ˜ã€ç­‰æ¨¡ç³Šè©å½™

---

å°æ¯é …é‡è¦æŠ€è¡“é€²å±•ï¼š

### [æŠ€è¡“/ç”¢å“åç¨±]

**1. Capability Deltaï¼ˆèƒ½åŠ›å·®åˆ†ï¼‰**
- æ–°å¢äº†ä»€éº¼ã€Œä»¥å‰åšä¸åˆ°ã€çš„èƒ½åŠ›ï¼Ÿ

**2. Workflow Rewriteï¼ˆå·¥ä½œæµå¦‚ä½•è¢«æ”¹å¯«ï¼‰**
- Before vs After

**3. Elite Usage Patternï¼ˆé ‚å°–äººæ‰æ€éº¼ç”¨ï¼‰**
- ä»»å‹™å¦‚ä½•è¢«æ‹†è§£ï¼Ÿ

**4. New Bottleneckï¼ˆæ–°ç“¶é ¸ï¼‰**
- å•é¡Œå¾å“ªè£¡è½‰ç§»åˆ°å“ªè£¡ï¼Ÿ
```

### 9. ç”¢æ¥­åˆ†æ - Step 5 å…¬å¸åˆ†æ (`industry_analyzer.py`)

```
**ã€æœ¬æ­¥é©Ÿçš„å¿…è¦è¼¸å‡ºã€‘**

åœ¨åˆ†æå…¬å¸ç­–ç•¥æ™‚ï¼Œè«‹æ˜ç¢ºæŒ‡å‡ºè‡³å°‘ä¸€å€‹ï¼š
ã€Constraint that cannot be negotiatedã€‘

ä¾‹å¦‚ï¼š
- è³‡æœ¬çµæ§‹
- ç®—åŠ› / ä¾›æ‡‰éˆ
- ç›£ç®¡é¢¨éšª
- çµ„ç¹”æ²»ç†æˆæœ¬

---

å°æ¯ä¸€å®¶é‡è¦å…¬å¸ï¼š

### [å…¬å¸åç¨±]

**1. è¡¨å±¤å‹•ä½œ** - ä»–å€‘åšäº†ä»€éº¼ï¼Ÿ

**2. éš±å«ç´„æŸ** - é€éœ²äº†ä»€éº¼é™åˆ¶æˆ–å£“åŠ›ï¼Ÿ

**3. æˆ°ç•¥æ„åœ–**
- å®ˆä»€éº¼ï¼Ÿæ‰“ä»€éº¼ï¼Ÿå»¶é²ä»€éº¼ï¼Ÿ

**4. å°ç”¢æ¥­çš„å¤–æº¢å½±éŸ¿**
- ä¾›æ‡‰éˆã€ç«¶çˆ­è€…ã€å®¢æˆ¶

**5. ä¸‹ä¸€å€‹å¯è§€æ¸¬ä¿¡è™Ÿ**
- ä»€éº¼äº‹ä»¶ä»£è¡¨åˆ¤æ–·æ­£ç¢º/éŒ¯èª¤ï¼Ÿ
```

### 10. ç”¢æ¥­åˆ†æ - Step 6 æœ€çµ‚å ±å‘Š (`industry_analyzer.py`)

```
ä½ æ˜¯ä¸€ä½ä¸–ç•Œç´šå…¨ç”¢æ¥­ã€å•†æ¥­èˆ‡ç§‘æŠ€ç ”ç©¶åˆå¤¥äººã€‚
ä½ çš„è®€è€…æ˜¯é ‚å°–çš„å…¨çƒç®¡ç†é¡§å•èˆ‡æŠ•è³‡é¡§å•ï¼š
- ä»–å€‘å­¸ç¿’é€Ÿåº¦æ¥µå¿«
- ä½†ä¸é è¨­ç†Ÿæ‚‰ä»»ä½•å–®ä¸€ç”¢æ¥­
- å°ã€Œè³‡è¨Šé‡è¿°ã€é›¶å®¹å¿ï¼Œåªé—œå¿ƒã€ŒèªçŸ¥æ˜¯å¦è¢«æ›´æ–°ã€

---

å ±å‘Šçµæ§‹ï¼š

## 0. This Week's Thesisï¼ˆä¸€å¥è©±ï¼‰
## 1. Executive Briefï¼ˆ8 æ¢é«˜å¯†åº¦æ´å¯Ÿï¼‰
## 2. Paradigm Shift Radar
## 3. Industry Cognition Map Updates
## 4. Technology Frontier
## 5. Company Moves & Strategic Implications
## 6. IP / Regulation / Talent Signals
## 7. Key Metrics & Benchmarks
## 8. Watchlist & Scenarios

---

å¯«ä½œè¦æ±‚ï¼š
- ä½¿ç”¨é¡§å•èªè¨€ï¼Œè€Œéåª’é«”èªè¨€
- æ˜ç¢ºå€åˆ†ã€äº‹å¯¦ã€‘ã€æ¨è«–ã€‘ã€ä¸ç¢ºå®šä½†å€¼å¾—è¿½è¹¤çš„å‡èªªã€‘
- ä¸ä½¿ç”¨æ–°èå¼å½¢å®¹è©ï¼ˆå¦‚ã€Œéœ‡é©šã€ã€Œé‡ç£…ã€ï¼‰
```

---

## è¨­å®šæª”

### ç’°å¢ƒè®Šæ•¸ (`.env`)

```env
# å¿…è¦
GEMINI_API_KEY=your_gemini_api_key
YOUTUBE_API_KEY=your_youtube_api_key
NOTION_API_KEY=your_notion_api_key
NOTION_DATABASE_ID=your_database_id

# é¸ç”¨
NEWS_API_KEY=your_newsapi_key
WEBSHARE_PROXY_USERNAME=your_proxy_username
WEBSHARE_PROXY_PASSWORD=your_proxy_password
```

### API Keys å–å¾—

| æœå‹™ | ç”¨é€” | ä¾†æº |
|------|------|------|
| Gemini | AI åˆ†æ | [Google AI Studio](https://aistudio.google.com/app/apikey) |
| YouTube | å½±ç‰‡è¿½è¹¤ | [Google Cloud Console](https://console.cloud.google.com/) |
| Notion | å ±å‘Šè¼¸å‡º | [Notion Integrations](https://www.notion.so/my-integrations) |
| NewsAPI | æ–°èæ”¶é›† | [NewsAPI](https://newsapi.org/) |

### å…¨åŸŸè¨­å®š (`config/settings.py`)

```python
# LLM
GEMINI_MODEL = "gemini-2.0-flash"
GEMINI_TEMPERATURE = 0.3
GEMINI_MAX_OUTPUT_TOKENS = 16384

# ç¯©é¸
MIN_PRICE_CHANGE_PERCENT = 3.0  # é¡¯ç¤ºæ¼²è·Œ >= 3% çš„è‚¡ç¥¨
MAX_NEWS_ITEMS = 30
HOURS_LOOKBACK = 24
```

### è¿½è¹¤ç”¢æ¥­ (`config/entities.yaml`)

```yaml
industries:
  - ç§‘æŠ€
  - AI
  - åŠå°é«”
  - é†«ç™‚
  - æ¶ˆè²»
  - é›»å‹•è»Š
  - èƒ½æº
  - èˆªç©º
  - é‡‘è
  - å·¥æ¥­
```

---

## Notion æ•´åˆ

### è¨­å®šæ­¥é©Ÿ

1. **å»ºç«‹ Notion Integration**
   - å‰å¾€ [Notion Integrations](https://www.notion.so/my-integrations)
   - å»ºç«‹æ–° Integrationï¼Œå‹¾é¸ Read/Update/Insert

2. **å»ºç«‹ Notion Database**
   - æ¬„ä½ï¼šName (Title), Date (Date), Type (Select), Tags (Multi-select)

3. **é€£æ¥ Integration**
   - Database é é¢ â†’ â‹¯ â†’ Connect to â†’ é¸æ“‡ Integration

4. **å–å¾— Database ID**
   - å¾ URL è¤‡è£½ï¼š`https://www.notion.so/DATABASE_ID?v=...`

### å ±å‘Šå‘½åè¦å‰‡

| å ±å‘Šé¡å‹ | å‘½åæ ¼å¼ | ç¯„ä¾‹ |
|----------|----------|------|
| Pre-market | `YYMMDD_Pre-market` | `260204_Pre-market` |
| Post-market | `YYMMDD_Post-market` | `260204_Post-market` |
| Saturday | `YYMMDD_Saturday` | `260208_Saturday` |
| Sunday | `YYMMDD_Sunday` | `260209_Sunday` |

---

## GitHub Actions æ’ç¨‹

### æ’ç¨‹æ™‚é–“

| å ±å‘Šé¡å‹ | Cron (UTC) | å°åŒ—æ™‚é–“ | é »ç‡ |
|----------|------------|----------|------|
| Pre-market | `0 10 * * 1-5` | 18:00 | é€±ä¸€è‡³é€±äº” |
| Post-market | `0 0 * * 2-6` | 08:00 | é€±äºŒè‡³é€±å…­ |
| Saturday | `0 1 * * 6` | 09:00 | æ¯é€±å…­ |
| Sunday | `0 10 * * 0` | 18:00 | æ¯é€±æ—¥ |

### GitHub Secrets è¨­å®š

åœ¨ Repository â†’ Settings â†’ Secrets and variables â†’ Actionsï¼š

| Secret Name | èªªæ˜ |
|-------------|------|
| `GEMINI_API_KEY` | Google Gemini API Key |
| `YOUTUBE_API_KEY` | YouTube Data API Key |
| `NOTION_API_KEY` | Notion Integration Token |
| `NOTION_DATABASE_ID` | Notion Database ID |
| `WEBSHARE_PROXY_USERNAME` | (é¸ç”¨) Proxy å¸³è™Ÿ |
| `WEBSHARE_PROXY_PASSWORD` | (é¸ç”¨) Proxy å¯†ç¢¼ |

---

## æˆæœ¬ä¼°ç®—

### Gemini 2.0 Flash å®šåƒ¹

| é¡å‹ | åƒ¹æ ¼ |
|------|------|
| Input | $0.10 / 1M tokens |
| Output | $0.40 / 1M tokens |

### å–®ç¯‡å ±å‘Šæˆæœ¬

| å ±å‘Š | AI èª¿ç”¨æ¬¡æ•¸ | é ä¼°æˆæœ¬ |
|------|-------------|----------|
| Pre-market | 6 æ¬¡ | ~$0.005 |
| Post-market | 4 æ¬¡ | ~$0.003 |
| Saturday | 5 æ¬¡ | ~$0.009 |
| Sunday | 3 æ¬¡ | ~$0.004 |

### æ¯æœˆç¸½æˆæœ¬

| é …ç›® | æ•¸é‡ | æœˆæˆæœ¬ |
|------|------|--------|
| Pre-market | 22 ç¯‡ | $0.11 |
| Post-market | 22 ç¯‡ | $0.07 |
| Saturday | 4 ç¯‡ | $0.04 |
| Sunday | 4 ç¯‡ | $0.02 |
| **æœˆç¸½è¨ˆ** | 52 ç¯‡ | **~$0.24** |

---

## ä¾è³´å¥—ä»¶

```
google-genai           # Gemini AI SDK
yfinance               # è‚¡ç¥¨æ•¸æ“š
feedparser             # RSS è§£æ
youtube-transcript-api # YouTube å­—å¹•
notion-client          # Notion API
google-api-python-client
python-dotenv
pyyaml
pytz
httpx
```

---

## License

MIT
